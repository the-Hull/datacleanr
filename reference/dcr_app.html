<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Interactive and reproducible data cleaning — dcr_app • datacleanr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Interactive and reproducible data cleaning — dcr_app"><meta property="og:description" content="Launches the datacleanr app for interactive and reproducible cleaning.
See Details for more information."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">datacleanr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/the-Hull/datacleanr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Interactive and reproducible data cleaning</h1>
    <small class="dont-index">Source: <a href="https://github.com/the-Hull/datacleanr/blob/HEAD/R/datacleanr_app.R" class="external-link"><code>R/datacleanr_app.R</code></a></small>
    <div class="hidden name"><code>dcr_app.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Launches the <code>datacleanr</code> app for interactive and reproducible cleaning.
See Details for more information.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">dcr_app</span><span class="op">(</span><span class="va">dframe</span>, browser <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dframe</dt>
<dd><p>Character, a string naming a <code>data.frame</code>, <code>tbl</code> or <code>data.table</code> in the environment
or a path to a <code>.Rds</code> file. <strong>Note, that <code>data.table</code>s are converted to tibbles internally.</strong>`</p></dd>


<dt>browser</dt>
<dd><p>logical, should app start in OS's default browser? (default <code>TRUE</code>)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>When <code>datacleanr</code> is ended by clicking on <code>Close</code> in the app's navigation bar, a list is <strong>invisibly</strong> returned
with the following items:</p><ol><li><p><strong>df_name</strong>: character, object name/file path passed into <code>dcr_app</code></p></li>
<li><p><strong>dcr_df</strong>: tibble, filtered data set <strong>with</strong> additional columns <code>.dcrkey</code>, <code>.dcrindex</code>, <code>.annotation</code> - the latter is <code>NA</code> for non-outliers, an empty string for outliers without annotation, and a custom string for annotated outliers</p></li>
<li><p><strong>dcr_selected_outliers</strong>: data.frame, contains the outlier <code>.dcrkey</code>, the <code>.annotation</code> and a <code>selection_count</code> (integer, count incrementer) column</p></li>
<li><p><strong>dcr_groups</strong>: character, a vector defining the groups (via <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></code>) used throughout <code>datacleanr</code></p></li>
<li><p><strong>dcr_condition_df</strong>: tibble, with columns <code>filter</code> (character, statement used for filtering) and <code>group</code> (list, of integers), defining groups that correspond to <code>.dcrindex</code></p></li>
<li><p><strong>dcr_code</strong>: character string, containing <em>Reproducible Recipe</em></p></li>
</ol></div>
    <div id="details">
    <h2>Details</h2>
    <p><code>datacleanr</code> provides an interactive data overview, and allows
reproducible filtering and (manual, interactive) visual outlier detection and annotation across multiple app tabs:</p><ul><li><p><strong>Overview and Set-up</strong>: set groups (see below) and generate a exploratory summary of <code>dframe</code></p></li>
<li><p><strong>Filtering</strong>: Provide and apply filter statements (groupwise, see below and <code><a href="filter_scoped_df.html">filter_scoped_df</a></code>)</p></li>
<li><p><strong>Visualization and Annotating</strong>: interactive visualization allowing outlier highlighting, annotating and before/after histograms of displayed (numeric) variables</p></li>
<li><p><strong>Extraction</strong>: generates <em>Reproducible Recipe</em> and outputs</p></li>
</ul><p>For data sets exceeding 1.5 million rows, we suggest splitting the data, if possible, by a grouping factor.
This is because at this volume interactive visualizations using <code>plotly</code> stretch the limits of what modern web browsers can handle.
A simple example using <code><a href="https://rdrr.io/r/datasets/iris.html" class="external-link">iris</a></code> is:</p><div class="sourceCode"><pre><code><span class="va">iris_split</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">iris</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span>
<span class="fu"><a href="../reference/dcr_app.html">dcr_app</a></span><span class="op">(</span><span class="va">iris_split</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="co"># or</span>
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">iris_split</span>, <span class="va">dcr_app</span><span class="op">)</span></code></pre></div>

<p>Extensive documentation is provided on each of the tabs for individual procedures in help links.
<code>datacleanr</code> relies on 1) generating a column of unique IDs (<code>.dcrkey</code>) and subsetting <code>dframe</code> into sub-groups (generated in-app,
added as column <code>.dcrindex</code>) for filtering and visualization.
These groups are composed of unique combinations of columns in the data set (must be <code>factor</code>) and are passed to <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></code>,
and are carried through the app for exploratory analyses (tab <strong>Overview and Set-up</strong>), filtering (tab <strong>Filtering</strong>) and plotting
(tab <strong>Visualization</strong>).
These groups should ideally be chosen to facilitate a convenient filtering and viewing/cleaning process.
For example, a data set with time series of multiple sensors could be grouped by sensor and/or additional columns,
such that periods of interest can be visualized and cleaned simultaneously in the interactive plot.</p>
<p>Filtering is achieved by providing expressions that evaluate to <code>TRUE</code> \ <code>FALSE</code>, and can be applied to the entire
data set, or individual/all groups via scoped filtering (see <code><a href="filter_scoped_df.html">filter_scoped_df</a></code>).</p>
<p>The interactive visualization allows selecting and deselecting points with lasso and box select tools,
as well as interactive zooming (toolbar or clicking on legend items or group overview table, see tab in-app)
as well as panning (toolbar and hover over plot's axes).
Data formats supported are</p><ol><li><p>Observational (numeric), timeseries (<code>POSIXct</code>) and categorical data in <code>x</code> and <code>y</code> dimensions/axis</p></li>
<li><p>Observational (numeric) data in <code>z</code> dimension (point size)</p></li>
<li><p>Spatial data, when <code>lon</code> and <code>lat</code> in decimal degrees are present in <code>x</code> and <code>y</code>.</p></li>
</ol><p>Displaying spatial data requires a <a href="https://www.mapbox.com/" class="external-link">Mapbox</a> account, from which an access token needs
to be copied into your <code>.Renviron</code> (e.g. <code>MAPBOX_TOKEN=your_copied_token</code>).</p>
<p>Note, that when a column <code>.dcrflag</code> (logical, <code>TRUE</code> \ <code>FALSE</code>) is present in <code>dframe</code>,
respective observations are given contrasting
symbols (<code>FALSE</code> = circle, <code>TRUE</code> = star-triangle).
This column is employed as a cross-referencing tool for e.g.other outlier detection or data-processing algorithms
that were applied prior.</p>
<p>The tab <strong>Extraction</strong> provides code to reproduce the entire procedure (a <em>Reproducible Recipe</em>), which</p><ol><li><p>can be copied, or sent directly to an active <code>RStudio</code> script when used interactively (i.e. when <code>dframe</code> is an object in <code>R</code>'s
environment),</p></li>
<li><p>can be saved to disk with intermediate outputs (filter statements and selected outliers),
where file names are based on the input file and configurable suffixes when <code>dframe</code> is a path.</p></li>
</ol></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alexander Hurley.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

      </footer></div>

  


  

  </body></html>

